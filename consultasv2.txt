CREATE DATABASE juga_ya;

USE juga_ya;

CREATE TABLE `jugadores` (
  `id` INT(10) NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `apellido` VARCHAR(45) NOT NULL,
  `usuario` VARCHAR(45) NOT NULL,
  `password` VARCHAR(255) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `telefono` VARCHAR(45) NOT NULL,
  `fec_ins` DATETIME NOT NULL,
  `fec_upd` DATETIME NOT NULL,
  `ext_foto` VARCHAR(255),
  PRIMARY KEY (`id`)
  );
  
  CREATE TABLE `profesionales` (
  `id` INT(10) NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `apellido` VARCHAR(45) NOT NULL,
  `usuario` VARCHAR(45) NOT NULL,
  `password` VARCHAR(255) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `telefono` VARCHAR(45) NOT NULL,
  `titulo` VARCHAR(80) NOT NULL,
  `fec_ins` DATETIME NOT NULL,
  `fec_upd` DATETIME NOT NULL,
  PRIMARY KEY (`id`)
  );
  
  CREATE TABLE `ubicaciones` (
  `id` INT(10) NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `direccion` VARCHAR(45) NOT NULL,
  `localidad` VARCHAR(45) NOT NULL,
  `codigo_postal` VARCHAR(45) NOT NULL,
  `fec_ins` DATETIME NOT NULL,
  `fec_upd` DATETIME NOT NULL,
  PRIMARY KEY (`id`)
  );
  
  CREATE TABLE `complejos` (
  `id` INT(10) NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `usuario` VARCHAR(45) NOT NULL,
  `password` VARCHAR(255) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `telefono` VARCHAR(45) NOT NULL,
  `ubicacion_id` INT(10) NOT NULL,
  `fec_ins` DATETIME NOT NULL,
  `fec_upd` DATETIME NOT NULL,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`ubicacion_id`) REFERENCES `ubicaciones`(`id`)
  );
  
  CREATE TABLE `eventos` (
  `id` INT(10) NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `dia` VARCHAR(12) NOT NULL,
  `fecha_hora` DATETIME NOT NULL,
  `ubicacion_id` INT(10) NOT NULL,
  `fec_ins` DATETIME NOT NULL,
  `fec_upd` DATETIME NOT NULL,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`ubicacion_id`) REFERENCES `ubicaciones`(`id`)
  );
  
  CREATE TABLE `eventos_jugadores` (
  `id` INT(10) NOT NULL AUTO_INCREMENT,
  `jugador_id` INT(10) NOT NULL,
  `evento_id` INT(10) NOT NULL,
  `fec_ins` DATETIME NOT NULL,
  `fec_upd` DATETIME NOT NULL,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`jugador_id`) REFERENCES `jugadores`(`id`),
  FOREIGN KEY (`evento_id`) REFERENCES `eventos`(`id`)
  );
  
  CREATE TABLE `eventos_profesionales` (
  `id` INT(10) NOT NULL AUTO_INCREMENT,
  `profesional_id` INT(10) NOT NULL,
  `evento_id` INT(10) NOT NULL,
  `fec_ins` DATETIME NOT NULL,
  `fec_upd` DATETIME NOT NULL,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`profesional_id`) REFERENCES `profesionales`(`id`),
  FOREIGN KEY (`evento_id`) REFERENCES `eventos`(`id`)
  );
  
  CREATE TABLE `eventos_complejos` (
  `id` INT(10) NOT NULL AUTO_INCREMENT,
  `complejo_id` INT(10) NOT NULL,
  `evento_id` INT(10) NOT NULL,
  `fec_ins` DATETIME NOT NULL,
  `fec_upd` DATETIME NOT NULL,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`complejo_id`) REFERENCES `complejos`(`id`),
  FOREIGN KEY (`evento_id`) REFERENCES `eventos`(`id`)
  );
